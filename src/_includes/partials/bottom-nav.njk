{# =============================================================================
  partials/bottom-nav.njk
  ------------------------------------------------------------------------------
  PURPOSE
  - Mobile-only bottom navigation (thumb-friendly).
  - Acts like a segmented control between:
      1) Search  (homepage)
      2) Identify (decision-tree questions)

  ENHANCEMENTS
  - Links are normal <a> tags for accessibility and reliability.
  - /src/js/scripts.js adds an OPTIONAL swipe gesture:
      - Swipe left on the bottom nav: Search -> Identify
      - Swipe right on the bottom nav: Identify -> Search

  IMPORTANT RULES
  - NO inline CSS. All styling is in /src/css/styles.css
============================================================================= #}

{# Determine which tab is active so CSS can position the indicator pill #}
{% set isIdentify = (page and page.url and page.url.startsWith("/identify")) %}
{% set activeTab = "identify" if isIdentify else "search" %}

<nav class="bottom-nav" aria-label="Primary (mobile)" data-swipe-nav="1" data-active="{{ activeTab }}">
  <div class="bottom-nav-inner">
    {# Sliding indicator pill (purely decorative) #}
    <span class="bottom-nav-indicator" aria-hidden="true"></span>

    {# Search tab #}
    <a class="bottom-nav-link"
       href="/"
       {% if page and page.url == "/" %}aria-current="page"{% endif %}>
      Search
    </a>

    {# Identify tab #}
    <a class="bottom-nav-link"
       href="/identify/"
       {% if isIdentify %}aria-current="page"{% endif %}>
      Identify
    </a>
  </div>

  {# NOTE
     - We intentionally do NOT show extra links here.
     - This nav is reserved for the two primary flows.
     - Secondary links belong in the footer.
  #}
</nav>
