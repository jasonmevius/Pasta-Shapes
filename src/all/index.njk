---
title: All Pasta Shapes
layout: layout.njk
permalink: /all/
---

{# =============================================================================
  src/all/index.njk
  ------------------------------------------------------------------------------
  PURPOSE
  - Browse all pasta shapes in a clean, readable table.
  - Provide lightweight client-side filtering (Search + Category).
  - Remove redundant "Detail" column because Name is already linked.
  - Add a "Synonyms" (aka "Also known as") column to help discovery.

  NOTES
  - Thumbnails use the same ImageKit structure as the Search page:
      https://ik.imagekit.io/mevius/pasta/thumbs/<slug>.png
  - We keep data-* attributes for JS filtering/sorting logic you already have.
  - Synonyms are read from the first populated field among common schema names:
      Synonyms, Aliases, SearchAliases, AlsoKnownAs, Also_Known_As
    (If none exist, we render an em dash placeholder.)
============================================================================= #}

{# Known-good ImageKit base for this project (matches your Search page snippet) #}
{% set imagekitBase = "https://ik.imagekit.io/mevius" %}

<header class="page-header">
  <h1>All Pasta Shapes</h1>
  <p class="page-subtitle">
    Browse {{ pasta.length }} pasta shapes. Use the filters to narrow results.
  </p>
</header>

<section class="table-tools" aria-label="Table filters">
  <div class="table-tools__row">
    <div class="field">
      <label class="field__label" for="allPastaSearch">Search</label>
      <input
        id="allPastaSearch"
        class="field__input"
        type="search"
        placeholder="Type a name, synonym, or categoryâ€¦"
        autocomplete="off"
      />
      <p class="field__hint">Filters across Name, Synonyms, and Category.</p>
    </div>

    <div class="field">
      <label class="field__label" for="allPastaCategory">Category</label>
      <select id="allPastaCategory" class="field__select">
        <option value="">All categories</option>
      </select>
      <p class="field__hint">Quickly isolate a pasta family.</p>
    </div>

    <div class="table-meta" aria-live="polite">
      <div class="table-meta__count">
        Showing <strong id="allPastaVisibleCount">{{ pasta.length }}</strong> of <strong>{{ pasta.length }}</strong>
      </div>

      {# Use the button class your stylesheet already supports (and we also alias btn--secondary in CSS) #}
      <button id="allPastaClear" class="btn secondary btn-small" type="button">
        Clear filters
      </button>
    </div>
  </div>
</section>

<section class="table-wrap" aria-label="All pasta shapes table">
  <table id="allPastaTable" class="data-table data-table--all">
    <caption class="sr-only">All pasta shapes with sortable columns</caption>

    {# ----------------------------------------------------------------------------
      Column sizing
      - Thumb: fixed
      - Name: comfortable min width
      - Category: fixed-ish
      - Synonyms: takes remaining space
    ----------------------------------------------------------------------------- #}
    <colgroup>
      <col class="col-thumb" />
      <col class="col-name" />
      <col class="col-category" />
      <col class="col-synonyms" />
    </colgroup>

    <thead>
      <tr>
        <th scope="col" class="data-table__thumb">Thumb</th>

        <th scope="col"
            class="data-table__sortable data-table__left"
            data-sort-key="name"
            aria-sort="ascending">
          Name <span class="sort-indicator" aria-hidden="true"></span>
        </th>

        <th scope="col"
            class="data-table__sortable data-table__left"
            data-sort-key="category"
            aria-sort="none">
          Category <span class="sort-indicator" aria-hidden="true"></span>
        </th>

        <th scope="col" class="data-table__left">
          Synonyms
          <span class="sr-only">(also known as)</span>
        </th>
      </tr>
    </thead>

    <tbody>
      {% for item in pasta %}

        {# Slug: use item.slug if present, otherwise generate from ShapeName #}
        {% set slugVal = item.slug %}
        {% if not slugVal %}
          {% set slugVal = item.ShapeName | slug %}
        {% endif %}

        {% set detailUrl = "/pasta/" ~ slugVal ~ "/" %}

        {# Thumbnail URL: match Search page structure exactly #}
        {% set thumbUrl = imagekitBase ~ "/pasta/thumbs/" ~ slugVal ~ ".png" %}
        {% set thumbUrlTransformed = thumbUrl ~ "?tr=w-56,h-56,f-auto,q-50" %}

        {# ------------------------------------------------------------------------
          Synonyms: support multiple schema possibilities without breaking the page
        ------------------------------------------------------------------------- #}
        {% set synRaw =
          item.Synonyms
          or item.Aliases
          or item.SearchAliases
          or item.AlsoKnownAs
          or item.Also_Known_As
          or ""
        %}

        {# Normalize separators to commas, then split into a list #}
        {% set synNormalized = (synRaw | string)
          | replace(";", ",")
          | replace("|", ",")
        %}

        {% set synList = [] %}
        {% if synNormalized and synNormalized | trim %}
          {% set synList = synNormalized | split(",") %}
        {% endif %}

        {# Build a clean, trimmed, non-empty list #}
        {% set synClean = [] %}
        {% for s in synList %}
          {% set t = (s | trim) %}
          {% if t %}
            {% set synClean = synClean.concat([t]) %}
          {% endif %}
        {% endfor %}

        {# For filtering convenience, store synonyms as a single lowercase string #}
        {% set synForData = "" %}
        {% if synClean.length %}
          {% set synForData = (synClean | join(", ")) %}
        {% endif %}

        <tr
          class="data-row"
          data-name="{{ (item.ShapeName or '') | lower | escape }}"
          data-category="{{ (item.Category or '') | lower | escape }}"
          data-synonyms="{{ synForData | lower | escape }}"
        >
          <td class="data-table__thumb">
            <span class="thumb" aria-hidden="true">
              <img
                src="{{ thumbUrlTransformed }}"
                alt=""
                loading="lazy"
                decoding="async"
                width="56"
                height="56"
              />
            </span>
          </td>

          <th scope="row" class="data-table__name">
            <a href="{{ detailUrl }}">{{ item.ShapeName }}</a>
          </th>

          <td class="cell-category">{{ item.Category or "" }}</td>

          <td class="cell-synonyms">
            {% if synClean.length %}
              {# Comma-delimited list for readability #}
              <span class="synonyms" title="{{ synClean | join(', ') | escape }}">
                {{ synClean | join(", ") }}
              </span>
            {% else %}
              <span class="synonyms synonyms--empty" aria-label="No synonyms available">-</span>
            {% endif %}
          </td>
        </tr>

      {% endfor %}
    </tbody>
  </table>
</section>
