---
title: Pasta Shapes
layout: layout.njk
description: "Search pasta shapes by name and aliases, or identify a shape by answering a few quick questions."
---

{# =============================================================================
  /src/index.njk
  ------------------------------------------------------------------------------
  MOBILE-FIRST HOMEPAGE

  CONTENT AREAS
  - Search card (always visible)
  - Results panel (hidden until searching)
  - Identify card (hidden while searching; results replace it)

  ROTATOR (SYNC)
  - The placeholder text and identify icon rotation must stay in lockstep.
  - We define one list (names + icons) and attach it to both elements via data
    attributes. scripts.js ticks the group together.

  IMPORTANT
  - This file uses the MOST RECENT requested fallback rotator list you provided.

============================================================================= #}

{% set IK_BASE = (paths.imagekitBase | default("https://ik.imagekit.io/mevius")) %}
{% set IK_THUMBS_BASE = IK_BASE ~ "/pasta/thumbs/" %}
{% set IK_CAROUSEL_BASE = IK_BASE ~ "/pasta/carousel/" %}
{% set FALLBACK_THUMB = "pending.png" %}

{# -----------------------------------------------------------------------------
  ROTATOR LIST (requested)
----------------------------------------------------------------------------- #}

{% set fallbackRotatorIconSrcs = [
  IK_CAROUSEL_BASE ~ "penne.png",
  IK_CAROUSEL_BASE ~ "ravioli.png",
  IK_CAROUSEL_BASE ~ "fusilli.png",
  IK_CAROUSEL_BASE ~ "conchiglie.png",
  IK_CAROUSEL_BASE ~ "farfalle.png",
  IK_CAROUSEL_BASE ~ "gnocchi.png",
  IK_CAROUSEL_BASE ~ "ridge-macaroni.png"
] %}

{% set fallbackRotatorNames = [
  "penne",
  "ravioli",
  "fusilli",
  "conchiglie",
  "farfalle",
  "gnocchi",
  "macaroni"
] %}

{# Site-provided lists (if present) override fallback. Otherwise fallback is used. #}
{% set rotatorNames = (homeRotatorNames | default([])) %}
{% set rotatorIconSrcs = (homeRotatorIconSrcs | default([])) %}

{% if rotatorNames | length == 0 %}
  {% set rotatorNames = fallbackRotatorNames %}
{% endif %}
{% if rotatorIconSrcs | length == 0 %}
  {% set rotatorIconSrcs = fallbackRotatorIconSrcs %}
{% endif %}

{% set firstRotatorIcon = rotatorIconSrcs[0] %}
{% set rotatorNamesCsv = rotatorNames | join(',') %}
{% set rotatorIconsCsv = rotatorIconSrcs | join(',') %}

<section class="home-panels">

  {# ===========================================================================
    CARD 1 - SEARCH BY NAME
  =========================================================================== #}
  <section id="home-search-card" class="home-card card" aria-label="Search by name">
    <header class="home-card-head">
      <h1 class="home-card-title">Search by Name</h1>
    </header>

    <form id="pasta-search-form" class="search" action="/" method="get" novalidate>
      <label class="sr-only" for="pasta-q">Search by pasta name</label>

      <input
        id="pasta-q"
        name="q"
        class="search-input"
        type="search"
        inputmode="search"
        autocomplete="off"
        autocapitalize="none"
        spellcheck="false"

        {# Placeholder is rotated by scripts.js as a group with the icon #}
        placeholder="Start typing - e.g., {{ rotatorNames[0] }}"

        data-rotator-group="homeHero"
        data-rotator-role="placeholder"
        data-rotator-names="{{ rotatorNamesCsv }}"
        data-rotate-interval="2500"

        {# Requested explicit examples attribute (kept for compatibility) #}
        data-placeholder-examples="penne,ravioli,fusilli,conchiglie,farfalle,gnocchi,macaroni"
      />
    </form>

    <p id="pasta-search-status" class="muted" aria-live="polite"></p>
    <p id="pasta-search-count" class="muted" aria-live="polite">Start typing to see matches.</p>
  </section>

  {# ===========================================================================
    RESULTS PANEL (white background table; not inside a grey card)
  =========================================================================== #}
  <section id="home-results-panel" class="home-results" aria-label="Search results" hidden>
    <ul id="pasta-search-suggestions" class="suggestions" aria-label="Suggestions"></ul>

    <div class="table-wrap table-wrap--results">
      <div class="table-scroll">
        <table id="pasta-results-table" class="data-table data-table--results" aria-label="Pasta results table">
          <colgroup>
            <col class="col-thumb" />
            <col class="col-name" />
            <col class="col-category" />
            <col class="col-synonyms" />
          </colgroup>

          <thead>
            <tr>
              <th scope="col" class="data-table__thumb"></th>
              <th scope="col" class="data-table__name">Name</th>
              <th scope="col" class="cell-category">Category</th>
              <th scope="col" class="cell-synonyms">Synonyms</th>
            </tr>
          </thead>

          <tbody id="pasta-results-body">
            {% for item in pasta %}

              {% set alsoRaw = (item.Synonyms or item.SearchAliases or "") %}
              {% set categoryRaw = (item.Category or "") %}

              {% set thumbFile =
                (item.ThumbnailImage
                  or item.ThumbImage
                  or item.ThumbFile
                  or item.ImageFile
                  or FALLBACK_THUMB)
              %}

              {% set thumbIsUrl = (thumbFile and (thumbFile | lower | slice(0, 4) == "http")) %}
              {% set thumbUrl = thumbFile if thumbIsUrl else (IK_THUMBS_BASE ~ thumbFile) %}
              {% set thumbUrlTransformed = thumbUrl ~ "?tr=w-56,h-56,f-auto,q-50" %}

              <tr
                class="data-row"
                data-slug="{{ item.Slug }}"
                data-name="{{ item.ShapeName }}"
                data-category="{{ categoryRaw }}"
                data-search="{{ item.ShapeName }} {{ alsoRaw }}"
              >
                <td class="data-table__thumb">
                  <span class="thumb" aria-hidden="true">
                    <img
                      src="{{ thumbUrlTransformed }}"
                      alt=""
                      loading="lazy"
                      decoding="async"
                      width="56"
                      height="56"
                    />
                  </span>
                </td>

                <th scope="row" class="data-table__name">
                  <a href="/pasta/{{ item.Slug }}/">{{ item.ShapeName }}</a>
                </th>

                <td class="cell-category">{{ categoryRaw }}</td>

                <td class="cell-synonyms">
                  {% if alsoRaw %}
                    {{ alsoRaw }}
                  {% else %}
                    <span class="muted">-</span>
                  {% endif %}
                </td>
              </tr>

            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    <a id="pasta-toggle-all" class="btn btn--ghost" href="#" hidden>Next 10</a>
  </section>

  {# ===========================================================================
    CARD 2 - IDENTIFY BY SHAPE
    Hidden while searching (results panel replaces it).
  =========================================================================== #}
  <a
    id="home-identify-card"
    class="home-card home-card-link card"
    href="/identify/"
    aria-label="Identify by Shape - go to Identify page"
  >
    <header class="home-card-head">
      <h2 class="home-card-title">Identify by Shape</h2>
    </header>

    <div class="identify-hero" aria-hidden="true">
      <img
        id="identify-icon-rotator"
        class="identify-icon"
        src="{{ firstRotatorIcon }}"
        alt=""
        loading="lazy"
        decoding="async"
        width="96"
        height="96"

        data-rotator-group="homeHero"
        data-rotator-role="icon"
        data-rotator-names="{{ rotatorNamesCsv }}"
        data-rotator-icons="{{ rotatorIconsCsv }}"
        data-rotate-interval="2500"
        data-rotate-fade="240"
      />
    </div>
  </a>

</section>
