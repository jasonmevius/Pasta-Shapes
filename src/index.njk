--- 
title: Pasta Shapes
layout: layout.njk
description: "Search pasta shapes by name and aliases, or identify a shape by answering a few quick questions."
---

{% set typeLabels = {
  "strand": "Strand",
  "tube": "Tube",
  "ribbon": "Ribbon",
  "sheet": "Sheet",
  "short": "Short cut",
  "stuffed": "Stuffed",
  "soup": "Soup / pastina",
  "ring": "Ring / wheel",
  "dumpling": "Dumpling / pasta-like"
} %}

{# =============================================================================
  index.njk (Homepage)
  ------------------------------------------------------------------------------
  PURPOSE
  - Primary "restaurant workflow" entry:
      1) User types a menu item or pasta shape name
      2) We show matches (aliases included)
      3) User taps through to a detail page

  DESIGN PRINCIPLE
  - Option B: show NOTHING until typing begins.
  - The page still pre-renders all result cards for fast client-side filtering,
    but JS hides them until query input is non-empty.

  IMPORTANT
  - No inline CSS.
  - All visuals are controlled via /src/css/styles.css
============================================================================= #}

<section class="hero stack">
  <h1 class="h1">Pasta Shapes</h1>

  <p class="muted lead">
    Type a pasta name from a menu to see the shape, common aliases, and a short description.
    If you have a shape in front of you, use Identify to narrow it down by questions.
  </p>
</section>

<section class="card stack" aria-label="Search pasta shapes">
  <form id="pasta-search-form" class="search" action="/" method="get">
    <label class="sr-only" for="pasta-q">Search</label>
    <input
      id="pasta-q"
      name="q"
      class="search-input"
      type="search"
      inputmode="search"
      autocomplete="off"
      autocapitalize="none"
      spellcheck="false"
      placeholder="Start typing - e.g., ravioli, rigatoni, bucatini"
    />
  </form>

  <div class="results-head">
    <h2 class="h2">Results</h2>
    <p id="pasta-search-status" class="muted" aria-live="polite">
      Start typing to see matches (aliases included).
    </p>
  </div>

  {# Suggestions (typeahead) - populated by JS #}
  <ul id="pasta-search-suggestions" class="suggestions" aria-label="Suggestions"></ul>

  {# Recently viewed - populated by JS; hidden until it has content #}
  <div id="recently-viewed-wrap" class="recent-wrap" hidden>
    <h3 class="h3">Recently viewed</h3>
    <p id="recently-viewed" class="muted"></p>
  </div>

  {# Results list
     - Pre-rendered for fast filtering.
     - Hidden by JS until query is non-empty (Option B).
  #}
  <ul id="pasta-results" class="results-list" aria-label="Pasta results">
    {% for p in pastaIndex.entries %}
      <li
        class="result-card"
        data-slug="{{ p.slug }}"
        data-search="{{ p.searchBlob }}"
      >
        <a class="result-link" href="{{ p.url }}" data-recent="1">
          <span class="thumb" aria-hidden="true"></span>

          <span class="result-body">
            <span class="result-title-row">
              <span class="result-name">{{ p.name }}</span>
              {% if p.type %}
                <span class="result-type muted">{{ typeLabels[p.type] or p.type }}</span>
              {% endif %}
            </span>

            {% if p.description %}
              <span class="result-desc muted">{{ p.description }}</span>
            {% endif %}

            {% if p.synonyms and p.synonyms.length %}
              <span class="result-also muted">
                Also: {{ p.synonyms | join("; ") }}
              </span>
            {% endif %}
          </span>
        </a>
      </li>
    {% endfor %}
  </ul>

  <div class="results-tools">
    <p id="pasta-results-note" class="muted"></p>
    <button id="pasta-toggle-all" class="btn secondary btn-small" type="button" hidden>
      Next 10
    </button>
  </div>
</section>
