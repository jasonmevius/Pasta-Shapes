---
title: Pasta Shapes
layout: layout.njk
description: "Search pasta shapes by name and aliases, or identify a shape by answering a few quick questions."
---

{% set typeLabels = {
  "strand": "Strand",
  "tube": "Tube",
  "ribbon": "Ribbon",
  "sheet": "Sheet",
  "short": "Short cut",
  "stuffed": "Stuffed",
  "soup": "Soup / pastina",
  "ring": "Ring / wheel",
  "dumpling": "Dumpling / pasta-like"
} %}

{# ImageKit config (CSV stores filenames only) #}
{% set IK_BASE = "https://ik.imagekit.io/mevius" %}
{% set IK_THUMBS = IK_BASE ~ "/pasta/thumbs/" %}
{% set IK_PENDING_THUMB = IK_THUMBS ~ "pending.png" %}

{% macro autoDescriptor(item) %}
  {# Avoid array push/concat - keep this Nunjucks-safe #}
  {% if item.Descriptor %}
    {{ item.Descriptor }}
  {% else %}
    {% set first = true %}

    {% if item.SizeClass and item.SizeClass != "unknown" %}
      {{ item.SizeClass }}
      {% set first = false %}
    {% endif %}

    {% if item.IsStuffed == "yes" %}
      {% if not first %}, {% endif %}stuffed
      {% set first = false %}
    {% endif %}

    {% if item.IsRidged == "yes" %}
      {% if not first %}, {% endif %}ridged
      {% set first = false %}
    {% endif %}

    {% if item.IsTwisted == "yes" %}
      {% if not first %}, {% endif %}twisted
      {% set first = false %}
    {% endif %}

    {% if item.IsCurved == "yes" %}
      {% if not first %}, {% endif %}curved
      {% set first = false %}
    {% endif %}

    {% if item.IsHollow == "yes" %}
      {% if not first %}, {% endif %}hollow
      {% set first = false %}
    {% endif %}

    {% if first %}
      {{ (typeLabels[item.Type] or item.Category or "pasta shape") | lower }}
    {% endif %}
  {% endif %}
{% endmacro %}

<section class="hero stack">
  <h1 class="h1">Pasta Shapes</h1>
  <p class="lead muted">
    Search pasta shapes by name and aliases, or identify a shape by answering a few quick questions.
  </p>
</section>

<section class="card stack" aria-label="Search pasta shapes">
  <div class="search">
    <label class="sr-only" for="pasta-q">Search</label>
    <input
      id="pasta-q"
      class="input"
      type="search"
      placeholder="Search (e.g., penne, rigatoni, spahetti...)"
      autocomplete="off"
      spellcheck="false"
      inputmode="search"
    />
  </div>

  <div class="results stack">
    <div class="results-head">
      <h2 class="h2">Results</h2>
      <p class="muted">Loaded {{ pasta.length }} shapes.</p>
    </div>

    <div class="results-tools">
      <p class="muted results-note" id="pasta-results-note" aria-live="polite"></p>
      <button class="btn secondary btn-small" type="button" id="pasta-toggle-all" hidden></button>
    </div>

    <div id="recently-viewed-wrap" class="recent-wrap" hidden>
      <h3 class="h3 muted">Recently viewed</h3>
      <ul id="recently-viewed" class="recent-list"></ul>
      <hr class="divider" />
    </div>

    <ul id="pasta-results" class="results-list">
      {% for item in pasta %}
        {% set thumbFile = (item.ThumbnailImage or "") | trim %}
        {% set thumbUrl = IK_PENDING_THUMB %}
        {% if thumbFile %}
          {% set thumbUrl = IK_THUMBS ~ thumbFile %}
        {% endif %}

        {% set displayType = typeLabels[item.Type] or item.Category or "" %}
        {% set synonyms = (item.Synonyms or "") %}
        {% set aliases = (item.SearchAliases or "") %}

        {# Include SearchAliases in the inline filter blob too #}
        {% set searchBlob = (item.ShapeName ~ " " ~ synonyms ~ " " ~ aliases ~ " " ~ item.Slug) | lower %}

        <li class="result-card" data-slug="{{ item.Slug }}" data-search="{{ searchBlob | escape }}">
          <a class="result-link" href="/pasta/{{ item.Slug }}/" data-recent="pasta">
            <div class="thumb">
              <img
                src="{{ thumbUrl }}"
                alt=""
                width="56"
                height="56"
                loading="lazy"
                decoding="async"
              />
            </div>

            <div class="result-body">
              <div class="result-title-row">
                <strong class="result-name">{{ item.ShapeName }}</strong>
                {% if displayType %}
                  <span class="result-type muted">{{ displayType }}</span>
                {% endif %}
              </div>

              <div class="result-desc muted">{{ autoDescriptor(item) }}</div>

              {% if synonyms %}
                <div class="result-also muted">Also: {{ synonyms }}</div>
              {% endif %}
            </div>
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
</section>
