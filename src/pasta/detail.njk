---
pagination:
  data: pasta
  size: 1
  alias: item
permalink: "pasta/{{ item.Slug }}/index.html"
layout: layout.njk

eleventyComputed:
  title: "Pasta Shapes: {{ item.ShapeName }}"
  description: "{% if item.Synonyms %}Aliases: {{ item.Synonyms | truncate(140) }}{% else %}What {{ item.ShapeName }} looks like, plus key shape attributes.{% endif %}"
---

{# ImageKit config (filenames are stored in CSV; templates build full URLs) #}
{% set IK_BASE = "https://ik.imagekit.io/mevius" %}
{% set IK_THUMBS = IK_BASE ~ "/pasta/thumbs/" %}
{% set IK_FULL = IK_BASE ~ "/pasta/full/" %}
{% set IK_PENDING = IK_BASE ~ "/pasta/pending.png" %}

{% set thumbFile = (item.ThumbnailImage or "") %}
{% set photoFile = (item.PhotoImage or "") %}
{% set thumbUrl = (thumbFile ? (IK_THUMBS ~ thumbFile) : IK_PENDING) %}
{% set photoUrl = (photoFile ? (IK_FULL ~ photoFile) : "") %}
{% set heroUrl = (photoUrl or thumbUrl or IK_PENDING) %}

<nav class="breadcrumbs">
  <a href="/">‚Üê Back to search</a>
</nav>

<header class="stack tight">
  <h1 class="h1">{{ item.ShapeName }}</h1>
  {% if item.Category %}
    <p class="muted">{{ item.Category }}</p>
  {% endif %}
</header>

<figure class="card hero">
  <img
    src="{{ heroUrl }}"
    alt="{{ item.ShapeName }}"
    width="1200"
    height="1200"
    loading="eager"
    decoding="async"
  />
</figure>

{% if item.Synonyms %}
  <section class="card stack">
    <h2 class="h2">Also known as</h2>
    <p class="muted">{{ item.Synonyms }}</p>
  </section>
{% endif %}

{% set desc = "" %}
{% if item.Description %}
  {% set desc = item.Description %}
{% elseif item.KeyDiscriminators %}
  {% set desc = item.KeyDiscriminators %}
{% endif %}

{% if desc %}
  <section class="card stack">
    <h2 class="h2">Description</h2>
    <p class="muted">{{ desc }}</p>
  </section>
{% endif %}

<section class="card stack">
  <h2 class="h2">Shape attributes</h2>

  <ul class="attr-list">
    {% if item.Type %}<li><strong>Type:</strong> {{ item.Type }}</li>{% endif %}
    {% if item.PrimaryGeometry %}<li><strong>Primary geometry:</strong> {{ item.PrimaryGeometry }}</li>{% endif %}
    {% if item.SizeClass %}<li><strong>Size:</strong> {{ item.SizeClass }}</li>{% endif %}

    {% if item.IsHollow %}<li><strong>Hollow:</strong> {{ item.IsHollow }}</li>{% endif %}
    {% if item.IsRidged %}<li><strong>Ridged:</strong> {{ item.IsRidged }}</li>{% endif %}
    {% if item.IsTwisted %}<li><strong>Twisted:</strong> {{ item.IsTwisted }}</li>{% endif %}
    {% if item.IsCurved %}<li><strong>Curved:</strong> {{ item.IsCurved }}</li>{% endif %}
    {% if item.IsStuffed %}<li><strong>Stuffed:</strong> {{ item.IsStuffed }}</li>{% endif %}

    {% if item.CityOrRegionMostAssociated and item.CityOrRegionMostAssociated != "Unknown" %}
      <li><strong>City/Region:</strong> {{ item.CityOrRegionMostAssociated }}</li>
    {% endif %}

    {% if item.EarliestAttestedMention and item.EarliestAttestedMention != "Unknown" %}
      <li><strong>Earliest mention:</strong> {{ item.EarliestAttestedMention }}</li>
    {% endif %}

    {% if item.SourceLink %}
      <li>
        <strong>Source:</strong>
        <a href="{{ item.SourceLink }}" rel="noopener">Link</a>
      </li>
    {% endif %}
  </ul>
</section>
