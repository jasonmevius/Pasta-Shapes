---
pagination:
  data: pasta
  size: 1
  alias: item
permalink: "pasta/{{ item.ShapeName | slug }}/index.html"
layout: layout.njk

eleventyComputed:
  title: "Pasta Shapes: {{ item.ShapeName }}"
---

<h1>{{ item.ShapeName }}</h1>

{% if item.Synonyms %}
  <p><strong>Synonyms:</strong> {{ item.Synonyms }}</p>
{% endif %}

{% if item.Category %}
  <p><strong>Category:</strong> {{ item.Category }}</p>
{% endif %}

{# Prefer Description for display; fall back to KeyDiscriminators if Description is empty #}
{% set desc = "" %}
{% if item.Description %}
  {% set desc = item.Description %}
{% elseif item.KeyDiscriminators %}
  {% set desc = item.KeyDiscriminators %}
{% endif %}

{# Key discriminators line: prefer KeyDiscriminators; fall back to Description; else hide #}
{% set kd = "" %}
{% if item.KeyDiscriminators %}
  {% set kd = item.KeyDiscriminators %}
{% elseif item.Description %}
  {% set kd = item.Description %}
{% endif %}

{% if desc %}
  <p>{{ desc }}</p>
{% endif %}

<ul>
  {% if item.PrimaryGeometry %}
    <li><strong>Primary geometry:</strong> {{ item.PrimaryGeometry }}</li>
  {% endif %}

  {# NEW: Description bullet (below primary geometry), using same desc fallback #}
  {% if desc %}
    <li><strong>Description:</strong> {{ desc }}</li>
  {% endif %}

  {% if kd %}
    <li><strong>Key discriminators:</strong> {{ kd }}</li>
  {% endif %}

  {% if item.CityOrRegionMostAssociated and item.CityOrRegionMostAssociated != "Unknown" %}
    <li><strong>City/Region:</strong> {{ item.CityOrRegionMostAssociated }}</li>
  {% endif %}

  {% if item.EarliestAttestedMention and item.EarliestAttestedMention != "Unknown" %}
    <li><strong>Earliest attested mention:</strong> {{ item.EarliestAttestedMention }}</li>
  {% endif %}

  {% if item.SourceLink %}
    <li>
      <strong>Source:</strong>
      <a href="{{ item.SourceLink }}">{{ item.SourceLink }}</a>
    </li>
  {% endif %}
</ul>
